# 实验六  子板七段数码管交互的应用

## 一    实验目的

1. 了解 Sword 开发板的子板七段数码管交互
2. 熟悉通过卡诺图进行组合逻辑设计的过程
3. 初步熟悉 Verilog 

## 二    实验环境

1. EDA 工具： Logisim Evolution、Vivado
2. SWORD 开发板
3. 操作系统： Windows 10+

## 三    实验原理

### 1. Arduino 子板七段数码管交互的使用

Arduino 子板的七段数码管有十二个引脚，其中八个引脚用于控制七段数码管显示什么图案，四个引脚分别作为四位七段数码管的使能信号，即分别控制四位七段数码管是否显示该图案。某一引脚置为 0 时，对应的 LED 灯亮；置为 1 时，对应的 LED 灯灭。如下图所示：

![子板七段数码管引脚示意图](img/lab6/1.jpg)

各个接口的引脚约束如右：[SEG_AN.xdc](SEG_AN.xdc)



## 四    实验步骤

### 1.分析七段数码管的真值表

对照实验原理中的图，补充完下列的真值表，当所需要展示的十六进制数为X时，a-g 六个引脚分别需要为什么值

| X    | a    | b    | c    | d    | e    | f    | g    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |
| 1    | 1    | 0    | 0    | 1    | 1    | 1    | 1    |
| 2    | 0    | 0    | 1    | 0    | 0    | 1    | 0    |
| 3    |      |      |      |      |      |      |      |
| 4    |      |      |      |      |      |      |      |
| 5    |      |      |      |      |      |      |      |
| 6    |      |      |      |      |      |      |      |
| 7    |      |      |      |      |      |      |      |
| 8    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| 9    |      |      |      |      |      |      |      |
| A    |      |      |      |      |      |      |      |
| B    |      |      |      |      |      |      |      |
| C    |      |      |      |      |      |      |      |
| D    |      |      |      |      |      |      |      |
| E    |      |      |      |      |      |      |      |
| F    | 0    | 1    | 1    | 1    | 0    | 0    | 0    |

### 2.用Logisim作图的方式完成SimpleMC14495

根据七段数码管的真值表，我们可以直接对照作出电路图，但是这样会导致电路冗余繁杂，因此此次实验我们需要大家优化七段数码管的卡诺图，

对照补全的七段数码管的真值表，分别分析引脚a-g的表达式，并根据他们的卡诺图优化表达式，并根据优化后的表达式使用 Logisim Evolution 进行原理图设计，并将生成的 Verilog 文件导入到 Vivado 工程。

### 3.补全top模块

根据 verilog 语法文档的内容，补全 [top 模块](top.v)，并在 top 模块中调用导入的 SimpleMC14495 模块。（可以通过仿真进行验证，可选）

### 4.上板验证

补全约束文件，并上板测试。

## 五    实验提交要求
1. 包含本实验所使用的所有 Logisim 电路图文件、Verilog 源文件、仿真激励文件和引脚约束文件的 zip 压缩包
2. 一份不超过 4 页的 PDF 格式的实验报告（无需封面），内容包含：
    - 补全的七段数码管的真值表
    - 任意三个输出的卡诺图优化过程及其结果
    - 上板验证结果及分析
    - 思考题，包含：
        1. 如何使用 Verilog 代码，行为描述的方法来设计 SimpleMC14495。
        2. 在思考题1的基础上，如果要求加入一个 input rst，使得 rst = 0 时器件不受影响，rst = 1 时七段数码管保持不亮，应该如何改进。
        3. 由于Arduino子板的七段数码管只有十二个引脚，所以四个七段数码管的显示都是一样的，如果要四个七段数码管分别显示不同数字，应当用什么样的方法（将你的思考写到报告中即可）

